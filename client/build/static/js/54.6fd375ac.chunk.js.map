{"version":3,"sources":["views/upload/Upload.js"],"names":["Upload","history","useHistory","csvData","setCsvData","setDataProps","useContext","MyContext","xs","className","paramFunc","childData","style","display","justifyContent","alignItems","type","onClick","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","fetch","then","response","json","result","data","data_props","push","fetchData"],"mappings":"6KAAA,sEA+EeA,UAlEA,KAEb,MAAMC,EAAUC,eAGV,QAAEC,EAAF,WAAWC,EAAX,aAAuBC,GAAiBC,qBAAWC,KA+BzD,OACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAMC,GAAI,GAAV,SACE,eAAC,IAAD,CAAOC,UAAU,QAAjB,UACE,eAAC,IAAD,WACE,uBAAOA,UAAU,cAAjB,oBACA,oBAAIA,UAAU,YAAd,0BACA,uBAAOA,UAAU,eAAjB,qDAEF,eAAC,IAAD,WACE,cAAC,IAAD,CAAaC,UAnCAC,IACrBP,EAAWO,MAmCH,uBACA,qBACEC,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAJhB,SAOE,cAAC,IAAD,CAASC,KAAK,SAASP,UAAU,aAAaQ,QAAS,IAvCnE,WACE,IAAIC,EAAY,IAAIC,QACpBD,EAAUE,OAAO,eAAgB,oBAEjC,IAAIC,EAAiB,CACnBC,OAAQ,OACRC,QAASL,EACTM,KAAMC,KAAKC,UAAUvB,GACrBwB,SAAU,UAGZC,MAnBmB,+CAmBCP,GACjBQ,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,IACL5B,EAAW4B,EAAOC,MAClB5B,EAAa2B,EAAOE,YACpBjC,EAAQkC,KAAK,aAuBsDC,GAA7D","file":"static/js/54.6fd375ac.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { CCard, CCardBody, CCardHeader, CCol, CRow, CButton, CWidgetStatsF } from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {\n  cilVerticalAlignTop,\n  cilVerticalAlignBottom,\n  cilResizeWidth,\n  cilVideogame,\n} from '@coreui/icons'\nimport MyContext from 'src/context'\nimport DragAndDrop from 'src/components/DragAndDrop'\n\nconst Upload = () => {\n  //useHistory hook to programmatically navigate to different route\n  const history = useHistory()\n\n  // render context\n  const { csvData, setCsvData, setDataProps } = useContext(MyContext)\n\n  //api analysis endpoint url\n  const api_base_url = 'https://forecapp.herokuapp.com/api/analysis/'\n  // const api_base_url = 'http://localhost:5000/api/analysis/'\n\n  const childToParent = (childData) => {\n    setCsvData(childData)\n  }\n\n  //function to fetch data from the API\n  function fetchData() {\n    var myHeaders = new Headers()\n    myHeaders.append('Content-Type', 'application/json')\n\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify(csvData),\n      redirect: 'follow',\n    }\n\n    fetch(api_base_url, requestOptions)\n      .then((response) => response.json())\n      .then((result) => {\n        setCsvData(result.data)\n        setDataProps(result.data_props)\n        history.push('/train')\n      })\n  }\n\n  return (\n    <CRow>\n      <CCol xs={12}>\n        <CCard className=\"mb-12\">\n          <CCardHeader>\n            <small className=\"smallHeader\">UPLOAD</small>\n            <h3 className=\"midHeader\">Collect data</h3>\n            <small className=\"bottomHeader\">Select your .csv file and upload it.</small>\n          </CCardHeader>\n          <CCardBody>\n            <DragAndDrop paramFunc={childToParent} />\n            <hr></hr>\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <CButton type=\"submit\" className=\"text-white\" onClick={() => fetchData()}>\n                Submit\n              </CButton>\n            </div>\n          </CCardBody>\n        </CCard>\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default Upload\n"],"sourceRoot":""}